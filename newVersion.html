<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form>
        <div>
            <label for="fname">Name:</label><br>
            <input type="text" name="name" id="name">
        </div>
        <div>
            <label for="email">Email:</label><br>
            <input type="email" name="email" id="email">
        </div>
        <div>
            <label for="phone">Phone:</label><br>
            <input type="number" name="phone" id="phone">
        </div>
        <button onclick="">Submit</button><br>
        <ul id="list"></ul>
    </form>
    <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', e => {
            // let userName = document.getElementById('name');
            // let userEmail = document.getElementById('email');
            // let userNumber = document.getElementById('phone');
            // let userTime = document.getElementById('time');
            // localStorage.setItem('Name',userName.value);
            // localStorage.setItem('email',userEmail.value);
            // localStorage.setItem('ph_no',userNumber.value);
            // localStorage.setItem('time',userTime.value);
            e.preventDefault()
            let name = document.getElementById('name').value
            let email = document.getElementById('email').value
            let ph_no = document.getElementById('phone').value
            let createObject = {
                name,
                email,
                ph_no
            }
            // creating localstorage
            let object_sterilized = JSON.stringify(createObject);
            localStorage.setItem(createObject.email, object_sterilized);

            // creating li element
            let ul = document.getElementById('list')
            let li = document.createElement('li');
            li.className = 'item-name';
            li.appendChild(document.createTextNode(object_sterilized));
            ul.appendChild(li);

            // createing deletbotton
            let deletebtn = document.createElement('input');
            deletebtn.type = 'button';
            deletebtn.value = 'delete';
            deletebtn.id = 'deletBtn';
            li.appendChild(deletebtn);
            deletebtn.onclick = () => {
                localStorage.removeItem(createObject.email);
                ul.removeChild(li);
            }

            // creating editbtn
            let editBtn = document.createElement('input');
            editBtn.type = 'button';
            editBtn.value = 'edit';
            editBtn.id = 'editBtn';

            li.appendChild(editBtn);
            editBtn.onclick = () => {
                localStorage.removeItem(createObject.email);
                ul.removeChild(li);
                document.getElementById('name').value = createObject.name;
                document.getElementById('email').value = createObject.email;
                document.getElementById('phone').value = createObject.ph_no;
            }
        })





    </script>
</body>

</html>